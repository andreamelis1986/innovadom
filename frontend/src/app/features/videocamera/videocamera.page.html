<div class="videocam-page">

  <!-- ðŸ”¹ Pulsante in alto a destra -->
  <div class="controls-bar">
    <button class="btn-full-all" (click)="toggleFullscreenAll()">
      <i class="fas fa-th-large"></i> Tutte le Telecamere
    </button>
  </div>

  <!-- ðŸ”¹ Vista griglia -->
<div [hidden]="fullscreenCam" class="camera-grid">
    <div
      *ngFor="let cam of cameras"
      class="camera-card"
      [class.offline]="cam.status !== 'active'"
      (click)="openFullscreen(cam)"
    >
      <div class="camera-header">
        <div class="camera-info">
          <i class="fas fa-video camera-icon"></i>
          <span class="camera-name">{{ cam.name }}</span>
        </div>
        <div class="camera-status" [class.online]="cam.status === 'active'">
          {{ cam.status === 'active' ? 'ðŸŸ¢ Online' : 'ðŸ”´ Offline' }}
        </div>
      </div>

      <div class="camera-body">
        <div *ngIf="cam.status === 'active'" class="live-badge">LIVE</div>
        <canvas [id]="'cam-' + cam.id"></canvas>
        <div *ngIf="cam.status !== 'active'" class="offline-overlay">
          <i class="fas fa-plug"></i>
          <span>OFFLINE</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ðŸ”¹ Vista fullscreen singola -->
  <div *ngIf="fullscreenCam" class="fullscreen-view">
    <button class="btn-exit" (click)="closeFullscreen()">
      <i class="fas fa-times"></i>
    </button>
    <div class="camera-full">
      <canvas [id]="'cam-full-' + fullscreenCam.id"></canvas>
      <div class="live-badge big">LIVE</div>
      <div class="camera-title">{{ fullscreenCam.name }}</div>
    </div>
  </div>

</div>
